{"_id": "5995a9bc54cdbf38cae2850e", "_modelType": "item", "baseParentId": "57b346d854cdbf74fd194480", "baseParentType": "collection", "created": "2017-08-17T14:35:40.947000+00:00", "creatorId": "575874fe54cdbf51760708f3", "description": "", "folderId": "57b346d854cdbf74fd194481", "meta": {"analysis": {"connections": [{"input": "inputTable", "input_step": "Filter by attribute", "name": "inputTable"}, {"input": "operation", "input_step": "Filter by attribute", "name": "operation"}, {"input": "columnname", "input_step": "Filter by attribute", "name": "columnname"}, {"input": "testvalue", "input_step": "Filter by attribute", "name": "testvalue"}, {"input": "inputTable", "input_step": "Filter by attribute 1", "output": "outTable", "output_step": "Filter by attribute"}, {"input": "columnname", "input_step": "Filter by attribute 1", "name": "columnname"}, {"input": "operation", "input_step": "Filter by attribute 1", "name": "operation 1"}, {"input": "testvalue", "input_step": "Filter by attribute 1", "name": "testvalue 1"}, {"name": "outTable", "output": "outTable", "output_step": "Filter by attribute 1"}], "description": "", "inputs": [{"format": "rows", "id": "inputTable", "name": "inputTable", "type": "table", "x": 96, "y": 187}, {"default": "[object Object]", "domain": ["GreaterThan", "LessThan", "EqualTo", "NotEqualTo"], "format": "text", "id": "operation", "name": "operation", "type": "string", "x": 81, "y": 311}, {"default": {"data": "'awesomeness'", "format": "text"}, "domain": {"format": "column.names", "input": "inputTable"}, "format": "text", "id": "columnname", "name": "columnname", "type": "string", "x": 75, "y": 439}, {"format": "text", "id": "testvalue", "name": "testvalue", "type": "string", "x": 71, "y": 564}, {"default": "[object Object]", "domain": ["GreaterThan", "LessThan", "EqualTo", "NotEqualTo"], "format": "text", "id": "operation 1", "name": "operation 1", "type": "string", "x": 485, "y": 495}, {"format": "text", "id": "testvalue 1", "name": "testvalue 1", "type": "string", "x": 728, "y": 568}], "mode": "workflow", "name": "WF Filter two Attribs", "outputs": [{"format": "rows", "id": "outTable", "name": "outTable", "type": "table", "x": 1276, "y": 274}], "steps": [{"girderId": "577b698a54cdbf3c14cc45f1", "modified": "2016-07-05T08:02:19.342000+00:00", "name": "Filter by attribute", "task": {"inputs": [{"format": "rows", "name": "inputTable", "type": "table"}, {"default": "[object Object]", "domain": ["GreaterThan", "LessThan", "EqualTo", "NotEqualTo"], "format": "text", "name": "operation", "type": "string"}, {"default": {"data": "'awesomeness'", "format": "text"}, "domain": {"format": "column.names", "input": "inputTable"}, "format": "text", "name": "columnname", "type": "string"}, {"format": "text", "name": "testvalue", "type": "string"}], "mode": "python", "name": "Filter by attribute", "outputs": [{"format": "rows", "name": "outTable", "type": "table"}], "script": "\n# input: inputTable - a list of rows (2D table)\n# input: operation = string: \"GreaterThan\",\"LessThan\",\"NotEqual\", \"Equal\", \"EqualTo\"\n# input: columnname = string name of columnname\n# input: testvalue - value used to compare the entry in the selected column with\n# output: outTable\n\n# find all rows in this input  that match the test criteria.\noutTable = {}\n\n# this might be a number or it might be a character string, so check\ndef is_number(s):\n    try:\n        float(s)\n        return True\n    except ValueError:\n        return False\n        \n# prepare for the output table format of table:rows        \ncolumnHeaders = inputTable['fields']\noutColumns = []\nif is_number(testvalue):\n    testnumber = float(testvalue)\n    for i in range(len(inputTable['rows'])):\n        row = inputTable['rows'][i]\n        if operation == \"GreaterThan\":\n            if row[columnname] > testnumber:\n                outColumns.append(row)\n        if operation == \"LessThan\":\n            if row[columnname] < testnumber:\n                outColumns.append(row)\n        if operation == \"NotEqual\":\n            if row[columnname] != testnumber:\n                outColumns.append(row)\n        if (operation == \"EqualTo\"):\n            if row[columnname] == testnumber:\n                outColumns.append(row)\nelse:\n    for i in range(len(inputTable['rows'])):\n        row = inputTable['rows'][i]\n        if operation == \"GreaterThan\":\n            if row[columnname] > testvalue:\n                outColumns.append(row)\n        if operation == \"LessThan\":\n            if row[columnname] < testvalue:\n                outColumns.append(row)\n        if operation == \"NotEqual\":\n            if row[columnname] != testvalue:\n                outColumns.append(row)\n        if (operation == \"EqualTo\"):\n            if row[columnname] == testvalue:\n                outColumns.append(row)\n\noutTable = {'fields': columnHeaders, 'rows': outColumns}\n\n"}, "visualization": false, "x": 498, "y": 217}, {"girderId": "577b698a54cdbf3c14cc45f1", "modified": "2016-07-05T08:02:19.342000+00:00", "name": "Filter by attribute 1", "task": {"inputs": [{"format": "rows", "name": "inputTable", "type": "table"}, {"default": "[object Object]", "domain": ["GreaterThan", "LessThan", "EqualTo", "NotEqualTo"], "format": "text", "name": "operation", "type": "string"}, {"default": {"data": "'awesomeness'", "format": "text"}, "domain": {"format": "column.names", "input": "inputTable"}, "format": "text", "name": "columnname", "type": "string"}, {"format": "text", "name": "testvalue", "type": "string"}], "mode": "python", "name": "Filter by attribute", "outputs": [{"format": "rows", "name": "outTable", "type": "table"}], "script": "\n# input: inputTable - a list of rows (2D table)\n# input: operation = string: \"GreaterThan\",\"LessThan\",\"NotEqual\", \"Equal\", \"EqualTo\"\n# input: columnname = string name of columnname\n# input: testvalue - value used to compare the entry in the selected column with\n# output: outTable\n\n# find all rows in this input  that match the test criteria.\noutTable = {}\n\n# this might be a number or it might be a character string, so check\ndef is_number(s):\n    try:\n        float(s)\n        return True\n    except ValueError:\n        return False\n        \n# prepare for the output table format of table:rows        \ncolumnHeaders = inputTable['fields']\noutColumns = []\nif is_number(testvalue):\n    testnumber = float(testvalue)\n    for i in range(len(inputTable['rows'])):\n        row = inputTable['rows'][i]\n        if operation == \"GreaterThan\":\n            if row[columnname] > testnumber:\n                outColumns.append(row)\n        if operation == \"LessThan\":\n            if row[columnname] < testnumber:\n                outColumns.append(row)\n        if operation == \"NotEqual\":\n            if row[columnname] != testnumber:\n                outColumns.append(row)\n        if (operation == \"EqualTo\"):\n            if row[columnname] == testnumber:\n                outColumns.append(row)\nelse:\n    for i in range(len(inputTable['rows'])):\n        row = inputTable['rows'][i]\n        if operation == \"GreaterThan\":\n            if row[columnname] > testvalue:\n                outColumns.append(row)\n        if operation == \"LessThan\":\n            if row[columnname] < testvalue:\n                outColumns.append(row)\n        if operation == \"NotEqual\":\n            if row[columnname] != testvalue:\n                outColumns.append(row)\n        if (operation == \"EqualTo\"):\n            if row[columnname] == testvalue:\n                outColumns.append(row)\n\noutTable = {'fields': columnHeaders, 'rows': outColumns}\n\n"}, "visualization": false, "x": 976, "y": 274}]}}, "name": "WF Filter two Attribs", "size": 0, "updated": "2017-08-17T14:37:46.916000+00:00"}