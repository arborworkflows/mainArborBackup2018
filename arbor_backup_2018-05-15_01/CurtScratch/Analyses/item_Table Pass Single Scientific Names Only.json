{"_id": "590fbb9054cdbf37f06511bd", "_modelType": "item", "baseParentId": "57b346d854cdbf74fd194480", "baseParentType": "collection", "created": "2017-05-08T00:28:00.942000+00:00", "creatorId": "575874fe54cdbf51760708f3", "description": "", "folderId": "57b346d854cdbf74fd194481", "meta": {"analysis": {"description": "This method filters a table of scientific names.  It eliminates empty names and names that are specific to a single species (e.g. \"genus species\").  It was initially conceived to preprocess tip names extracted from the higher portions of OpenTree synthetic tree, in order to drive tip comparisons between study trees and the OpenTree.", "inputs": [{"description": "table of scientific names", "format": "rows", "id": "table", "name": "table", "type": "table"}], "mode": "python", "name": "Table Pass Single Scientific Names Only", "outputs": [{"description": "filtered output table with rows suitable for use with tip matching algortihms", "format": "rows", "id": "outtable", "name": "outtable", "type": "table"}], "script": "# look through the rows of a table.  Pass only the ones with a single word (not a \"genus species\"), don't pass \n# any empty entries, and don't pass any names that start with node or _ott\n\nouttable = {}\nouttable['fields'] = table['fields']\nouttable['rows'] = []\n\nfirstcol = table['fields'][0]\nfor row in table['rows']:\n    taxon = row[firstcol]\n    # split on the space to detect scientific names\n    splitname = row[firstcol].split(' ')\n    # only output a cleaned supset of the rows, with single names\n    if (len(taxon)>0) and (len(splitname)==1) and (taxon[0:4] != 'node') and (taxon[0:4] != '_ott'):\n        outtable['rows'].append(row)\n        \n        "}}, "name": "Table Pass Single Scientific Names Only", "size": 0, "updated": "2017-05-08T00:42:41.150000+00:00"}