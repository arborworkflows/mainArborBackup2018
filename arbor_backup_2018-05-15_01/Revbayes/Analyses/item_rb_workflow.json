{"_id": "57b228f354cdbf74fd194443", "_modelType": "item", "baseParentId": "57b209b754cdbf74fd19443b", "baseParentType": "collection", "created": "2016-08-15T20:41:23.833000+00:00", "creatorId": "5761b37954cdbf3c14cc45bc", "description": "", "folderId": "57b209b754cdbf74fd19443d", "meta": {"analysis": {"connections": [{"input": "rb_input", "input_step": "rb_readDiscreteCharacterData", "name": "rb_input"}, {"input": "filename", "input_step": "rb_readDiscreteCharacterData", "name": "filename"}, {"input": "rb_input", "input_step": "rb_substitutionModelGTR+G", "output": "rb_script", "output_step": "rb_readDiscreteCharacterData"}, {"name": "rb_script", "output": "rb_script", "output_step": "rb_substitutionModelGTR+G"}], "description": "", "inputs": [{"description": "Revbayes script", "format": "text", "id": "rb_input", "name": "rb_input", "type": "string", "x": 21, "y": 18}, {"description": "The path to the file to be loaded into Revbayes", "format": "text", "id": "filename", "name": "filename", "type": "string", "x": 25, "y": 185}], "mode": "workflow", "name": "rb_workflow", "outputs": [{"description": "output script", "format": "text", "id": "rb_script", "name": "rb_script", "type": "string", "x": 908, "y": 111}], "steps": [{"girderId": "57b209f854cdbf74fd19443f", "modified": "2016-08-15T20:45:04.508568+00:00", "name": "rb_readDiscreteCharacterData", "task": {"description": "", "inputs": [{"description": "Revbayes script", "format": "text", "id": "rb_input", "name": "rb_input", "type": "string"}, {"description": "The path to the file to be loaded into Revbayes", "format": "text", "id": "filename", "name": "filename", "type": "string"}], "mode": "r", "name": "rb_readDiscreteCharacterData", "outputs": [{"description": "A rb block", "format": "text", "id": "rb_script", "name": "rb_script", "type": "string"}], "script": "rb_block <- \n\"#######################\n# Reading in the Data #\n#######################\n\n###### This just defines a single model for all sites #######\n\n### Read in sequence data for both genes\n\ndata <- readDiscreteCharacterData('ARBOR_SCRIPT_FILENAME')\n\n# Get some useful variables from the data. We need these later on.\nn_species <- data.ntaxa()\ntaxa <- data.taxa()\n\n# set my move index\nmvi = 0\nmni = 0\"\n\nrb_block <- gsub(\"ARBOR_SCRIPT_FILENAME\", filename, rb_block)\n\nrb_script <- paste(rb_input, rb_block, sep=\"\\n\")\n"}, "visualization": false, "x": 275, "y": 98}, {"girderId": "57b20cb354cdbf74fd194442", "modified": "2016-08-15T22:42:54.296000+00:00", "name": "rb_substitutionModelGTR+G", "task": {"description": "", "inputs": [{"description": "Revbayes script", "format": "text", "id": "rb_input", "name": "rb_input", "type": "string"}], "mode": "r", "name": "rb_substitutionModelGTR+G", "outputs": [{"description": "output script", "format": "text", "id": "rb_script", "name": "rb_script", "type": "string"}], "script": "rb_block <- \n\"######################\n# Substitution Model #\n######################\n\n#### specify the GTR+G substitution model applied uniformly to all sites ###\ner_prior <- v(1,1,1,1,1,1)\ner ~ dnDirichlet(er_prior)\nmoves[++mvi] = mvSimplexElementScale(er,weight=3)\n\n\npi_prior <- v(1,1,1,1) \npi ~ dnDirichlet(pi_prior)\nmoves[++mvi] = mvSimplexElementScale(pi,weight=2)\n\n\n#### create a deterministic variable for the rate matrix ####\nQ := fnGTR(er,pi) \n\n\n#############################\n# Among Site Rate Variation #\n#############################\n\nalpha_prior_mean <- 5.0\nalpha_prior_sd <- 0.587405\nalpha ~ dnLognormal( alpha_prior_mean, alpha_prior_sd )\ngamma_rates := fnDiscretizeGamma( alpha, alpha, 4, false )\n\n# add moves for the stationary frequencies, exchangeability rates and the shape parameter\nmoves[++mvi] = mvScale(alpha,weight=2)\n\n\"\n\nrb_script <- paste(rb_input, rb_block, sep=rep(\"\\n\",5))\n"}, "visualization": false, "x": 603, "y": 102}]}}, "name": "rb_workflow", "size": 0, "updated": "2016-08-15T22:43:04.874000+00:00"}