{"description": "", "inputs": [{"format": "rows", "id": "table", "name": "table", "type": "table"}, {"default": {"data": "species", "format": "text", "type": "string"}, "description": "name of the column containing the species or taxon names (e.g. name, species, Species, etc.)", "format": "string", "id": "name_column", "name": "name_column", "type": "string"}], "mode": "python", "name": "Matrix Shorten Names", "outputs": [{"format": "rows", "id": "outtable", "name": "outtable", "type": "table"}], "script": "\n# inputs: \n#    table\n#    name_column\n\n# shorten a complex species name into only the species.  heliconia_stricta becomes stricta.  H_Spect becomes Spect, etc.\ndef shortenSpeciesName(longname):\n    shortName = longname.split('_')[1]\n    return shortName\n     \nouttable = {}\nouttable['rows'] = []\nouttable['fields'] = table['fields']\n\n# go through the rows of the table and shorten the names of the species according to the algorithm above.\n# all other content passes through unchanged. \n\nfor row in table['rows']:\n    outrow = {}\n    for attrib in row.keys():\n        if attrib == name_column:\n            outrow[name_column] = shortenSpeciesName(row[name_column])\n        else:\n            outrow[attrib] = row[attrib]\n    outtable['rows'].append(outrow)\n    \n\n\n"}