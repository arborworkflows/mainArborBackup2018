{"_id": "577b698a54cdbf3c14cc45ef", "_modelType": "item", "baseParentId": "577b697d54cdbf3c14cc45e1", "baseParentType": "collection", "created": "2016-07-05T08:02:18.826000+00:00", "creatorId": "5761b37954cdbf3c14cc45bc", "description": "", "folderId": "577b697e54cdbf3c14cc45e3", "meta": {"analysis": {"inputs": [{"description": "input multi-row table we are going to drop rows from", "format": "rows", "name": "datatable", "type": "table"}, {"domain": {"format": "column.names", "input": "datatable"}, "format": "text", "name": "indexcolumn", "type": "string"}, {"description": "comma separated set of values to look for in the index column", "format": "text", "name": "values", "type": "string"}], "mode": "python", "name": "Drop rows by value", "outputs": [{"description": "output table with a subset of the input rows", "format": "rows", "name": "outtable", "type": "table"}], "script": "# this analysis expects an input table with requires some rows to be filtered out. \n# The analysis also expects a comma separated list of values to find and filter out of the table \n# This is similar to the fieldfile format for mongoDB, with one field per line....\n\n# input: datatable - data table with lots of rows (relatively speaking)\n# input: indexcolumn - single string with column name to use as an index\n# input: values - comma separated list of value(s) to look for in the index column and drop these rows\n# output: outtable - smaller data table that does not have the rows which matched the filtering criteria\n\n\n# revision history:\n# 09/04/14 CRL initial version\n# 09/13/14 CRL updated comments\n\ninfields = datatable['fields']\n\n# process character string list of values into a Python list of values\nnoSpaceValuesString = values.replace(\" \",\"\")\nvaluelist = noSpaceValuesString.split(',')\n\n\n# now loop through the source table and remove the selected rows from the output data record\n\noutrows = []\nfor row in datatable['rows']:\n    if row[indexcolumn] not in valuelist:\n        outrows.append(row)\n        \nouttable = {}\nouttable['fields'] = infields\nouttable['rows'] = outrows\n"}}, "name": "Drop rows by value", "size": 0, "updated": "2016-07-05T08:02:19.326000+00:00"}