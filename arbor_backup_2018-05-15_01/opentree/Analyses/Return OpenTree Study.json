{"description": "", "inputs": [{"format": "text", "name": "taxonName", "type": "string"}], "mode": "python", "name": "Return OpenTree Study", "outputs": [{"format": "text", "id": "rerturnedrecs", "name": "returnedrecs", "type": "string"}], "script": "#\n# Return an OpenTree Study\n#\n# description: this analysis expects a Study ID for an OpenTree study.  \n# \n# input: studyID - single study ID number\n# output: outJSON -  NexSON object that contains the entire study data\n#\n\nimport requests\nimport unicodedata\nimport json\n\noutrows = []\nstringdebug = ''\n\nreturncount = 0\n\n# ideally, this could be a parameter, but this is an exploratory module, so assume a limit and don't make the \n# user enter it every time\nmaxReturnLength = 100\n\n# build an OTL query to return the matching ottId we want to use to request taxa \npayload = {'property' :'ot:ottTaxonName','value': taxonName,'verbose':'true'}\nquerystring = 'https://api.opentreeoflife.org/v3/study/'+taxonName+'.json'\nresp = requests.get(querystring)\n\nreturnedrecs = resp.text\n#returnedStudy = json.dumps(returnedrecs)\n\n            \n     "}